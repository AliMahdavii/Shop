<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชูุธูุงุช ฺฉุงุฑุจุฑ</title>
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

    <div class="profile-container">

        <div class="user-header">
            <i class="fa-solid fa-gear"></i>
            <h2>ุชูุธูุงุช ฺฉุงุฑุจุฑ</h2>
        </div>

        <div class="user-info">
            <p><strong>ฺฉุงุฑุจุฑ:</strong> <span id="username"></span></p>
        </div>

        <hr>

        <div class="setting-box">
            <h3>ุชุบุฑ ูุงู ฺฉุงุฑุจุฑ</h3>
            <input type="text" id="new-username" placeholder="ูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ">
            <button id="change-username-btn">ุซุจุช ูุงู ุฌุฏุฏ</button>
        </div>

        <hr>

        <div class="setting-box">
            <h3>ุชุบุฑ ุฑูุฒ ุนุจูุฑ</h3>
            <input type="password" id="new-password" placeholder="ุฑูุฒ ุฌุฏุฏ">
            <button id="change-password-btn">ุชุบุฑ ุฑูุฒ</button>
        </div>

        <hr>

        <div class="setting-box">
            <h3>ุญุงูุช ููุงุด</h3>
            <button id="dark-toggle">ูุนุงูโุณุงุฒ ุฏุงุฑฺฉโููุฏ</button>
        </div>

        <hr>

        <div class="setting-box danger">
            <h3>ุญุฐู ุญุณุงุจ</h3>
            <button id="delete-account-btn" class="danger-btn">ุญุฐู ฺฉุงูู ุญุณุงุจ</button>
        </div>

        <a href="profile.html" class="back">ุจุงุฒฺฏุดุช ุจู ุตูุญู ูพุฑููุงู</a>

    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const logged = JSON.parse(localStorage.getItem("logged-in"))?.username;
    if(!logged){
        alert("ุงุจุชุฏุง ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุฏ!");
        location.href = "login.html";
        return;
    }

    document.getElementById("username").textContent = logged;

    const userData = JSON.parse(localStorage.getItem(logged)) || {};

    document.getElementById("change-username-btn").onclick = () => {
        const newUser = document.getElementById("new-username").value.trim();
        if(!newUser) return alert("ูุงู ุฌุฏุฏ ูุนุชุจุฑ ูุณุช");

        if(localStorage.getItem(newUser))
            return alert("ุงู ูุงู ูุจูุง ูุฌูุฏ ุฏุงุฑุฏ!");

        localStorage.setItem(newUser, JSON.stringify(userData));
        localStorage.removeItem(logged);

        localStorage.setItem("logged-in", JSON.stringify({ username: newUser }));

        alert("ูุงู ฺฉุงุฑุจุฑ ุจุง ููููุช ุชุบุฑ ฺฉุฑุฏ");
        location.reload();
    };

    document.getElementById("change-password-btn").onclick = () => {
        const newPass = document.getElementById("new-password").value.trim();
        if(!newPass) return alert("ุฑูุฒ ุฌุฏุฏ ูุนุชุจุฑ ูุณุช");

        userData.password = newPass;
        localStorage.setItem(logged, JSON.stringify(userData));

        alert("ุฑูุฒ ุนุจูุฑ ุชุบุฑ ฺฉุฑุฏ.");
    };

    document.getElementById("dark-toggle").onclick = () => {
        document.body.classList.toggle("dark");
    };

    document.getElementById("delete-account-btn").onclick = () => {
        if(confirm("ุขุง ูุทูุฆู ูุณุชุฏุ ุญุณุงุจ ุดูุง ุญุฐู ุฎูุงูุฏ ุดุฏ.")){
            localStorage.removeItem(logged);
            localStorage.removeItem("logged-in");
            alert("ุญุณุงุจ ุจุง ููููุช ุญุฐู ุดุฏ");
            location.href = "login.html";
        }
    };

});
</script>

<footer>
        <div class="row">
            <div class="col-lg-8">
                <div class="right">
                    <div class="title">
                        ุฏุฑุจุงุฑู ูุง
                    </div>
                    <div class="des">
                        Carhartt WIP | ุงุตุงูุช ุดูุฑุ ฺฉูุช ุจโฺููโูฺุฑุง
<br>ูุง ุงูุฌุง ูุณุชู ุชุง ูุจุงุณโูุง ู ุงฺฉุณุณูุฑโูุง ุงุฑุงุฆู ุจุฏู ฺฉู ููโุชููุง ุฑุงุญุช ู ุจุง ุฏูุงู ูุณุชูุ ุจูฺฉู ุณุจฺฉ ุฒูุฏฺฏ ู ุดุฎุตุช ุดูุง ุฑู ูู ุชุนุฑู ูโฺฉูู. ูุฑ ูุทุนู ฺฉุงุฑูุงุฑุช ุจุง ุฏูุช ุทุฑุงุญ ุดุฏู ุชุง ุฏุฑ ุฎุงุจููโูุง ุดูุฑ ู ูุญุทโูุง ฺฉุงุฑ ุณุฎุชุ ููุฑุงู ุดูุง ุจุงุดู.
ุจุง ูุง ุชุฌุฑุจูโุง ุงุฒ ุงุณุชุงู ุงุตู ุดูุฑ ุฏุงุดุชู ุจุงุดู: ุงุฒ ฺฉุงูพุดูโูุง ู ุฌูููโูุง ููุงูู ฺฏุฑูุชู ุชุง ุดููุงุฑูุง ู ุงฺฉุณุณูุฑโูุง ุฎูู ฺฉู ูุฑ ุฑูุฒุชูู ุฑู ุฑุงุญุชโุชุฑ ู ุฌุฐุงุจโุชุฑ ูโฺฉูู. ฺฉูุชุ ุฌุฒุฆุงุช ู ุฏูุงูุ ููุดู ุฏุฑ ุงูููุช ูุงุณุช.<br>
๐ฆ ุงุฑุณุงู ุณุฑุน ู ูุทูุฆู
<br>
๐ ูพุฑุฏุงุฎุช ุงูู ู ุขุณุงู
<br>
โญ ฺฉูุช ุชุถูู ู ุงุตุงูุช ุจุฑูุฏ
<br>

ุจู ุฌูุน ฺฉุงุฑูุงุฑุช WIP ุจูพููุฏุฏ ู ุณุจฺฉ ุฎูุฏุชูู ุฑู ุจู ููู ูุดูู ุจุฏุฏ!
                    </div>
                </div>   
            </div>
            <div class="col-lg-4">
                <div class="left">
                    <div class="title">
                        ูุง ุฑุง ุฏุฑ ุดุจฺฉู ูุง ุงุฌุชูุงุน ุฏูุจุงู ฺฉูุฏ :
                    </div>
                    <div class="socials">
                        <a href=""><i class="fab fa-twitter"></i></a>
                        <a href=""><i class="fab fa-instagram"></i></a>
                        <a href=""><i class="fab fa-linkedin"></i></a>
                        <a href=""><i class="fab fa-telegram-plane"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="bottom">
                ฺฉูู ุญููู ูุญููุธ ู ุจุงุดุฏ 2025 ยฉ
        </div>
    </footer>

</body>
</html>
